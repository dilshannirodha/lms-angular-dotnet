<div class="p-6 max-w-6xl mx-auto">
  <h2 class="text-3xl font-bold mb-6">Teacher Management</h2>

  <!-- Form -->
  <form (submit)="addTeacher(); $event.preventDefault()" class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">
    <input
      type="text"
      [(ngModel)]="newTeacher.teacherId"
      name="teacherId"
      placeholder="Teacher Id"
      class="p-2 border rounded"
      required
    />
    <input
      type="text"
      [(ngModel)]="newTeacher.username"
      name="username"
      placeholder="Username"
      class="p-2 border rounded"
      required
    />
    <input
      type="text"
      [(ngModel)]="newTeacher.name"
      name="name"
      placeholder="Name"
      class="p-2 border rounded"
      required
    />
    <input
      type="text"
      [(ngModel)]="newTeacher.subject"
      name="subject"
      placeholder="subject"
      class="p-2 border rounded"
      required
    />
    <input
      type="email"
      [(ngModel)]="newTeacher.email"
      name="email"
      placeholder="Email"
      class="p-2 border rounded"
    />
    <input
      type="text"
      [(ngModel)]="newTeacher.phone"
      name="phone"
      placeholder="Phone"
      class="p-2 border rounded"
    />
    <div class="md:col-span-2">
      <button
        type="submit"
        class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 w-full"
      >
        Engage a Teacher
      </button>
    </div>
  </form>

  <!-- Student Table -->
  <div class="overflow-x-auto">
    <table class="w-full table-auto border-collapse rounded overflow-hidden shadow">
      <thead class="bg-gray-200 text-gray-700">
        <tr>
          <th class="text-left px-4 py-2">Teacher ID</th>
          <th class="text-left px-4 py-2">Username</th>
          <th class="text-left px-4 py-2">Name</th>
          <th class="text-left px-4 py-2">Subject</th>
          <th class="text-left px-4 py-2">Email</th>
          <th class="text-left px-4 py-2">Phone</th>
          <th class="text-left px-4 py-2">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let teacher of teachers" class="border-b">
          <ng-container *ngIf="!isEditing(teacher.teacherId); else editRow">
            <td class="px-4 py-2">{{ teacher.teacherId }}</td>
            <td class="px-4 py-2">{{ teacher.username }}</td>
            <td class="px-4 py-2">{{ teacher.name }}</td>
            <td class="px-4 py-2">{{ teacher.subject }}</td>
            <td class="px-4 py-2">{{ teacher.email }}</td>
            <td class="px-4 py-2">{{ teacher.phone }}</td>
            <td class="px-4 py-2 space-x-2">
              <button
                class="text-blue-600 hover:underline"
                (click)="editTeacher(teacher)"
              >
                Edit
              </button>
              <button
                class="text-red-600 hover:underline"
                (click)="deleteTeacher(teacher.teacherId)"
              >
                Delete
              </button>
            </td>
          </ng-container>

          <ng-template #editRow>
            <td class="px-4 py-2">
              <input
                type="text"
                [(ngModel)]="editingTeacher!.username"
                name="editUsername"
                class="p-1 border rounded w-full"
              />
            </td>
            <td class="px-4 py-2">
              <input
                type="text"
                [(ngModel)]="editingTeacher!.name"
                name="editName"
                class="p-1 border rounded w-full"
              />
            </td>
            <td class="px-4 py-2">
              <input
                type="text"
                [(ngModel)]="editingTeacher!.subject"
                name="editAddress"
                class="p-1 border rounded w-full"
              />
            </td>
            <td class="px-4 py-2">
              <input
                type="email"
                [(ngModel)]="editingTeacher!.email"
                name="editEmail"
                class="p-1 border rounded w-full"
              />
            </td>
            <td class="px-4 py-2">
              <input
                type="text"
                [(ngModel)]="editingTeacher!.phone"
                name="editPhone"
                class="p-1 border rounded w-full"
              />
            </td>
            <td class="px-4 py-2 space-x-2">
              <button
                class="bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700"
                (click)="updateTeacher()"
              >
                Save
              </button>
              <button
                class="bg-gray-400 text-white px-3 py-1 rounded hover:bg-gray-500"
                (click)="editingTeacher = null"
              >
                Cancel
              </button>
            </td>
          </ng-template>
        </tr>
      </tbody>
    </table>
  </div>
</div>
